/* styles.css - full file replacement */

/* --- Theme Variables --- */
:root{
  --bg:#0f1724;
  --panel:#0b1220;
  --accent:#3aa0ff;
  --danger:#ff6b6b;
  --muted:#9aa7b2;
  --cell:#0a2433;
  --cell-border:#0c2b3f;
  --water:#0b5f8a;
  --forest:#254b2b;
  --mountain:#3b3b3b;
  --bridge:#59402b;
  --wall:#6b4f3b;
  --highlight-move: rgba(60,180,120,0.24);
  --highlight-attack: rgba(220,40,40,0.22);
  --spawn-highlight: rgba(200,200,60,0.18);
  --glass: rgba(255,255,255,0.03);
  --radius:10px;
}

/* General Reset */
*{box-sizing:border-box;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;}
html,body{height:100%;margin:0;background:linear-gradient(180deg,#07111a 0%, #08151b 100%);color:#e6f0f5;}
#gameContainer{max-width:1200px;margin:18px auto;padding:12px;}

/* Header */
#topBar{display:flex;justify-content:space-between;align-items:center;padding:10px 14px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));margin-bottom:12px}
#topBar h1{margin:0;font-size:18px;letter-spacing:0.6px;color:#dff3ff}
#scoreboard{display:flex;gap:18px;align-items:center}
.player-stats{background:var(--panel);padding:8px;border-radius:8px;min-width:120px;text-align:left}
.player-label{font-size:12px;color:var(--muted);margin-bottom:6px}
.player-stats .hp,.player-stats .energy{font-size:14px;color:#e6f0f5}

/* Main Layout */
#mainArea{
  display:grid;
  grid-template-columns:260px 1fr 260px; /* Left, Board, Right */
  gap:12px;
  align-items:start;
}
#leftPanel,#rightPanel{display:flex;flex-direction:column;gap:10px}
.panel{background:var(--panel);padding:10px;border-radius:12px;box-shadow:0 6px 18px rgba(0,0,0,0.5);}

/* Unit Info */
#unit-info-panel .unit-details{min-height:120px;padding:8px;border-radius:8px;background:var(--glass);color:#dfeff7}
.unit-details.empty{opacity:0.9;color:#9fb6c6;font-size:13px}
.unit-symbol{font-size:28px;margin-bottom:6px}
.unit-name{font-weight:700;font-size:16px;color:#cfefff;margin-bottom:6px}
.unit-description{font-size:13px;color:#c7dbe3;margin-bottom:8px}
.unit-stat{display:flex;justify-content:space-between;padding:6px 8px;border-radius:6px;margin-bottom:4px;background:rgba(255,255,255,0.01)}
.unit-stat-label{color:var(--muted);font-size:12px}

/* Abilities */
.unit-abilities{display:flex;flex-wrap:wrap;gap:6px;margin-top:8px}
.unit-ability-btn{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));border:1px solid rgba(255,255,255,0.03);padding:6px 8px;border-radius:8px;color:#eaf8ff;cursor:pointer}
.unit-ability-btn:hover{transform:translateY(-1px);box-shadow:0 4px 18px rgba(18,140,220,0.08)}

/* Controls */
.controls-row{display:flex;flex-direction:column;gap:8px;margin-bottom:8px}
.action-btn{display:inline-block;padding:8px 12px;border-radius:8px;border:none;background:var(--accent);color:#072033;font-weight:700;cursor:pointer}
.action-btn:hover{filter:brightness(.95);transform:translateY(-1px)}
#status{font-size:13px;color:var(--muted);margin-top:8px}

/* Shop (Right Side) */
#shop-panel{display:flex;flex-direction:column;gap:8px}
.shop-list{max-height:480px;overflow:auto;padding:6px;border-radius:8px;background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(0,0,0,0.02));}
.shop-cost-header{font-size:12px;color:#bfe9ff;padding:6px 8px;margin-top:8px;border-bottom:1px dashed rgba(255,255,255,0.02)}
.shop-item{display:flex;justify-content:space-between;align-items:center;padding:8px;border-radius:8px;margin:6px 0;background:rgba(255,255,255,0.01);cursor:pointer}
.shop-item.removed{opacity:0.45;cursor:not-allowed}
.shop-item.cant-afford{opacity:0.6;filter:grayscale(.2)}
.shop-item.selected{outline:2px solid rgba(58,160,255,0.12)}
.shop-left{max-width:70%}
.shop-desc{font-size:12px;color:var(--muted);margin-top:4px}
.shop-right{font-weight:700}

/* Board */
#boardPanel{display:flex;justify-content:center;align-items:center}
.grid{display:grid;gap:4px;background:linear-gradient(180deg,#031017,#04131c);padding:10px;border-radius:12px;box-shadow:0 8px 28px rgba(0,0,0,0.6)}
.cell{
  width:44px;height:44px;border-radius:6px;background:var(--cell);border:1px solid var(--cell-border);
  display:flex;align-items:center;justify-content:center;position:relative;overflow:visible;
  transition:transform .08s linear;
}

/* Terrain */
.cell.water{
  background:linear-gradient(180deg, var(--water), #0a5580);
  box-shadow: inset 0 0 0 1px rgba(255,255,255,0.02);
  color:#dff3ff;
}
.cell.bridge{background:linear-gradient(180deg, #3c2a1a, #5a3f2a);color:#fff}
.cell.forest{background:linear-gradient(180deg,var(--forest),#173c22);color:#dff3ff}
.cell.mountain{background:linear-gradient(180deg,var(--mountain),#2b2b2b);color:#fff}
.cell.wall{background:linear-gradient(180deg,var(--wall),#5c4231);color:#fff}

/* Highlights */
.cell .highlight-overlay{position:absolute;inset:0;pointer-events:none;border-radius:6px}
.highlight-move{box-shadow: inset 0 0 0 2px rgba(60,160,140,0.06);outline: 2px solid rgba(60,160,140,0.12);background:var(--highlight-move);z-index:20}
.highlight-attack{box-shadow: inset 0 0 0 2px rgba(200,40,40,0.06);outline: 2px solid rgba(200,40,40,0.12);background:var(--highlight-attack);z-index:20}
.spawn-highlight{box-shadow: inset 0 0 0 2px rgba(220,200,60,0.04);outline:2px dashed rgba(220,200,60,0.12);background:var(--spawn-highlight);z-index:20}

/* Units */
.unit-el{
  position:relative;z-index:25;padding:2px 6px;border-radius:6px;
  display:inline-flex;align-items:center;justify-content:center;
  min-width:28px;min-height:28px;font-weight:700;
}
.unit-el.owner-1{background:linear-gradient(180deg,#0b6fb7,#0c4b86);color:#e8f6ff}
.unit-el.owner-2{background:linear-gradient(180deg,#7b2b2b,#5a1f1f);color:#fff}
.unit-el.selected{outline:2px solid rgba(255,255,255,0.06);box-shadow:0 6px 18px rgba(0,0,0,0.5)}
.unit-hp{position:absolute;right:-8px;bottom:-8px;background:rgba(0,0,0,0.65);padding:2px 4px;border-radius:10px;font-size:11px;color:#fff;z-index:30}
.status-icon{position:absolute;left:-8px;top:-8px;font-size:12px;z-index:30}

/* Attack Target Effect */
.unit-el.attack-target {
  animation: shakeAttack 0.35s ease-in-out;
  box-shadow: 0 0 12px rgba(255,0,0,0.7);
}
@keyframes shakeAttack {
  0% { transform: translate(0, 0); }
  20% { transform: translate(-2px, 1px); }
  40% { transform: translate(2px, -1px); }
  60% { transform: translate(-2px, 0); }
  80% { transform: translate(1px, 2px); }
  100% { transform: translate(0, 0); }
}

/* Markers (Nexus, Spawner, Heart) */
.marker-spawner, .marker-nexus, .marker-heart{
  position:absolute;top:0;left:0;right:0;bottom:0;
  display:flex;align-items:center;justify-content:center;
  font-size:16px;pointer-events:none
}
.marker-nexus{font-size:18px}
.marker-spawner{font-size:16px}
.marker-heart{font-size:16px}

/* Footer */
#footer{margin-top:12px;text-align:center;color:var(--muted)}

/* Responsive */
@media (max-width:1000px){
  #mainArea{grid-template-columns:1fr 1fr;grid-auto-rows:auto}
  #rightPanel{display:block}
}

/* Utility */
.hidden{display:none}
.shop-list::-webkit-scrollbar { width:10px }
.shop-list::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.04); border-radius:10px }

/* === Constant attackable-target effect (subtle shake + red glow) === */
.unit-el.attackable-target {
  animation: constantShake 0.4s infinite;
  box-shadow: 0 0 8px rgba(255, 0, 0, 0.6);
}

@keyframes constantShake {
  0%   { transform: translate(0px, 0px); }
  25%  { transform: translate(1px, -1px); }
  50%  { transform: translate(-1px, 1px); }
  75%  { transform: translate(1px, 1px); }
  100% { transform: translate(0px, 0px); }
}
